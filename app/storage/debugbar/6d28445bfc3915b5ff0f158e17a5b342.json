{"__meta":{"id":"6d28445bfc3915b5ff0f158e17a5b342","datetime":"2014-09-22 04:11:46","utime":1411359106.1945,"method":"DELETE","uri":"\/stallion\/public\/users\/drop\/21","ip":"::1"},"php":{"version":"5.4.31"},"messages":{"count":1,"messages":[{"message":"[04:11:46] LOG.error: exception 'PDOException' with message 'SQLSTATE[23000]: Integrity constraint violation: 1451 Cannot delete or update a parent row: a foreign key constraint fails (`stallion`.`users_profile`, CONSTRAINT `users_profile_id_foreign` FOREIGN KEY (`id`) REFERENCES `users` (`id`))' in C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:391\nStack trace:\n#0 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(391): PDOStatement->execute(Array)\n#1 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(617): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}(Object(Illuminate\\Database\\MySqlConnection), 'delete from `us...', Array)\n#2 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(581): Illuminate\\Database\\Connection->runQueryCallback('delete from `us...', Array, Object(Closure))\n#3 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(394): Illuminate\\Database\\Connection->run('delete from `us...', Array, Object(Closure))\n#4 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(351): Illuminate\\Database\\Connection->affectingStatement('delete from `us...', Array)\n#5 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(1922): Illuminate\\Database\\Connection->delete('delete from `us...', Array)\n#6 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(379): Illuminate\\Database\\Query\\Builder->delete()\n#7 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(6679): Illuminate\\Database\\Eloquent\\Builder->delete()\n#8 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(6671): Illuminate\\Database\\Eloquent\\Model->performDeleteOnModel()\n#9 C:\\xampp\\htdocs\\stallion\\app\\controllers\\UsersController.php(46): Illuminate\\Database\\Eloquent\\Model->delete()\n#10 [internal function]: UsersController->deleteDrop('21')\n#11 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(231): call_user_func_array(Array, Array)\n#12 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(5799): Illuminate\\Routing\\Controller->callAction('deleteDrop', Array)\n#13 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(5787): Illuminate\\Routing\\ControllerDispatcher->call(Object(UsersController), Object(Illuminate\\Routing\\Route), 'deleteDrop')\n#14 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(4986): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'UsersController', 'deleteDrop')\n#15 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}('21')\n#16 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(5345): call_user_func_array(Object(Closure), Array)\n#17 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(5011): Illuminate\\Routing\\Route->run(Object(Illuminate\\Http\\Request))\n#18 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(4999): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n#19 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(722): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n#20 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(703): Illuminate\\Foundation\\Application->dispatch(Object(Illuminate\\Http\\Request))\n#21 C:\\xampp\\htdocs\\stallion\\vendor\\barryvdh\\laravel-debugbar\\src\\Middleware.php(33): Illuminate\\Foundation\\Application->handle(Object(Illuminate\\Http\\Request), 1, true)\n#22 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(7763): Barryvdh\\Debugbar\\Middleware->handle(Object(Illuminate\\Http\\Request), 1, true)\n#23 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(8370): Illuminate\\Session\\Middleware->handle(Object(Illuminate\\Http\\Request), 1, true)\n#24 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(8317): Illuminate\\Cookie\\Queue->handle(Object(Illuminate\\Http\\Request), 1, true)\n#25 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(10955): Illuminate\\Cookie\\Guard->handle(Object(Illuminate\\Http\\Request), 1, true)\n#26 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(664): Stack\\StackedHttpKernel->handle(Object(Illuminate\\Http\\Request))\n#27 C:\\xampp\\htdocs\\stallion\\public\\index.php(49): Illuminate\\Foundation\\Application->run()\n#28 {main}\n\nNext exception 'Illuminate\\Database\\QueryException' with message 'SQLSTATE[23000]: Integrity constraint violation: 1451 Cannot delete or update a parent row: a foreign key constraint fails (`stallion`.`users_profile`, CONSTRAINT `users_profile_id_foreign` FOREIGN KEY (`id`) REFERENCES `users` (`id`)) (SQL: delete from `users` where `id` = 21)' in C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:625\nStack trace:\n#0 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(581): Illuminate\\Database\\Connection->runQueryCallback('delete from `us...', Array, Object(Closure))\n#1 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(394): Illuminate\\Database\\Connection->run('delete from `us...', Array, Object(Closure))\n#2 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(351): Illuminate\\Database\\Connection->affectingStatement('delete from `us...', Array)\n#3 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(1922): Illuminate\\Database\\Connection->delete('delete from `us...', Array)\n#4 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(379): Illuminate\\Database\\Query\\Builder->delete()\n#5 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(6679): Illuminate\\Database\\Eloquent\\Builder->delete()\n#6 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(6671): Illuminate\\Database\\Eloquent\\Model->performDeleteOnModel()\n#7 C:\\xampp\\htdocs\\stallion\\app\\controllers\\UsersController.php(46): Illuminate\\Database\\Eloquent\\Model->delete()\n#8 [internal function]: UsersController->deleteDrop('21')\n#9 C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(231): call_user_func_array(Array, Array)\n#10 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(5799): Illuminate\\Routing\\Controller->callAction('deleteDrop', Array)\n#11 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(5787): Illuminate\\Routing\\ControllerDispatcher->call(Object(UsersController), Object(Illuminate\\Routing\\Route), 'deleteDrop')\n#12 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(4986): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'UsersController', 'deleteDrop')\n#13 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}('21')\n#14 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(5345): call_user_func_array(Object(Closure), Array)\n#15 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(5011): Illuminate\\Routing\\Route->run(Object(Illuminate\\Http\\Request))\n#16 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(4999): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n#17 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(722): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n#18 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(703): Illuminate\\Foundation\\Application->dispatch(Object(Illuminate\\Http\\Request))\n#19 C:\\xampp\\htdocs\\stallion\\vendor\\barryvdh\\laravel-debugbar\\src\\Middleware.php(33): Illuminate\\Foundation\\Application->handle(Object(Illuminate\\Http\\Request), 1, true)\n#20 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(7763): Barryvdh\\Debugbar\\Middleware->handle(Object(Illuminate\\Http\\Request), 1, true)\n#21 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(8370): Illuminate\\Session\\Middleware->handle(Object(Illuminate\\Http\\Request), 1, true)\n#22 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(8317): Illuminate\\Cookie\\Queue->handle(Object(Illuminate\\Http\\Request), 1, true)\n#23 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(10955): Illuminate\\Cookie\\Guard->handle(Object(Illuminate\\Http\\Request), 1, true)\n#24 C:\\xampp\\htdocs\\stallion\\bootstrap\\compiled.php(664): Stack\\StackedHttpKernel->handle(Object(Illuminate\\Http\\Request))\n#25 C:\\xampp\\htdocs\\stallion\\public\\index.php(49): Illuminate\\Foundation\\Application->run()\n#26 {main}","is_string":false,"label":"error","time":1411359106.1015,"collector":"log"}]},"time":{"start":1411359104.925,"end":1411359106.1955,"duration":1.2705399990082,"duration_str":"1.27s","measures":[{"label":"Booting","start":1411359104.9275,"relative_start":0.0024681091308594,"end":1411359106.0465,"relative_end":1411359106.0465,"duration":1.1190638542175,"duration_str":"1.12s"},{"label":"Application","start":1411359106.0485,"relative_start":1.1235320568085,"end":1411359106.1955,"relative_end":0,"duration":0.14700794219971,"duration_str":"147.01ms"}]},"memory":{"peak_usage":14942208,"peak_usage_str":"14.25MB"},"exceptions":{"count":2,"exceptions":[{"type":"Illuminate\\Database\\QueryException","message":"SQLSTATE[23000]: Integrity constraint violation: 1451 Cannot delete or update a parent row: a foreign key constraint fails (`stallion`.`users_profile`, CONSTRAINT `users_profile_id_foreign` FOREIGN KEY (`id`) REFERENCES `users` (`id`)) (SQL: delete from `users` where `id` = 21)","code":"23000","file":"C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php","line":625,"surrounding_lines":["\t\t\/\/ lot more helpful to the developer instead of just the database's errors.\n","\t\tcatch (\\Exception $e)\n","\t\t{\n","\t\t\tthrow new QueryException(\n","\t\t\t\t$query, $this->prepareBindings($bindings), $e\n","\t\t\t);\n","\t\t}\n"]},{"type":"PDOException","message":"SQLSTATE[23000]: Integrity constraint violation: 1451 Cannot delete or update a parent row: a foreign key constraint fails (`stallion`.`users_profile`, CONSTRAINT `users_profile_id_foreign` FOREIGN KEY (`id`) REFERENCES `users` (`id`))","code":"23000","file":"C:\\xampp\\htdocs\\stallion\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php","line":391,"surrounding_lines":["\t\t\t\/\/ to execute the statement and then we'll use PDO to fetch the affected.\n","\t\t\t$statement = $me->getPdo()->prepare($query);\n","\n","\t\t\t$statement->execute($me->prepareBindings($bindings));\n","\n","\t\t\treturn $statement->rowCount();\n","\t\t});\n"]}]},"views":[],"route":{"host":"-","uri":"DELETE users\/drop\/{one?}\/{two?}\/{three?}\/{four?}\/{five?}","name":"-","action":"UsersController@deleteDrop","before":"-","after":"-"},"queries":{"nb_statements":2,"nb_failed_statements":0,"accumulated_duration":0.002,"accumulated_duration_str":"2ms","statements":[{"sql":"select * from `users` where `users`.`id` = '21' limit 1","params":{"0":"21"},"duration":0.001,"duration_str":"1ms","stmt_id":null},{"sql":"select * from `users_profile` where `users_profile`.`id` = '21' limit 1","params":{"0":"21"},"duration":0.001,"duration_str":"1ms","stmt_id":null}]},"swiftmailer_mails":{"count":0,"mails":[]},"request":{"format":"html","content_type":"text\/html","status_text":"Internal Server Error","status_code":"integer 500","request_query":"array()","request_request":"array(2) [\n    '_token' => string (40) \"8QvJrwG7mSM9M0RL4RUxSsjL1sUZv6iCFQEgbqNc\"\n    '_method' => string (6) \"DELETE\"\n]","request_headers":"array(12) [\n    'host' => array(1) [\n        string (9) \"localhost\"\n    ]\n    'connection' => array(1) [\n        string (10) \"keep-alive\"\n    ]\n    'content-length' => array(1) [\n        string (2) \"62\"\n    ]\n    'cache-control' => array(1) [\n        string (9) \"max-age=0\"\n    ]\n    'accept' => array(1) [\n        string (74) \"text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/webp,*\/*;q=0.8\"\n    ]\n    'origin' => array(1) [\n        string (16) \"http:\/\/localhost\"\n    ]\n    'user-agent' => array(1) [\n        string (109) \"Mozilla\/5.0 (Windows NT 6.1; WOW64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/37.0.2062.120 Safari\/537.36\"\n    ]\n    'content-type' => array(1) [\n        string (33) \"application\/x-www-form-urlencoded\"\n    ]\n    'referer' => array(1) [\n        string (38) \"http:\/\/localhost\/stallion\/public\/users\"\n    ]\n    'accept-encoding' => array(1) [\n        string (12) \"gzip,deflate\"\n    ]\n    'accept-language' => array(1) [\n        string (75) \"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,ru;q=0.2,pt;q=0.2,zh-CN;q=0.2,zh;q=0.2\"\n    ]\n    'cookie' => array(1) [\n        string (298) \"laravel_session=eyJpdiI6IkV0ZDNNdzVuV0RSOGczZHY5SVhBXC9nPT0iLCJ2YWx1ZSI6Inppa1dHNit0czNYRWFPWXZ5QXN3K0k5OTQxcFl2RmJCMmZQd2xyVDVjSWRNTktKb3dlZHV5XC8xdTV1UjNcL1dJMXpoVkVDV09XNU5reUx0Slwvck5kcmpRPT0iLCJtYWMiOiJmOWUwMmJhZWI1ZGMyNjhjMGE0MmMwZDJlZWNmMjVjZjVhYTczODRhZjRhNzExYTUwM2M3ZTJiODQzZDA5NWNjIn0%3D\"\n    ]\n]","request_server":"array(53) [\n    'REDIRECT_MIBDIRS' => string (24) \"C:\/xampp\/php\/extras\/mibs\"\n    'REDIRECT_MYSQL_HOME' => string (16) \"\\xampp\\mysql\\bin\"\n    'REDIRECT_OPENSSL_CONF' => string (31) \"C:\/xampp\/apache\/bin\/openssl.cnf\"\n    'REDIRECT_PHP_PEAR_SYSCONF_DIR' => string (10) \"\\xampp\\php\"\n    'REDIRECT_PHPRC' => string (10) \"\\xampp\\php\"\n    'REDIRECT_TMP' => string (10) \"\\xampp\\tmp\"\n    'REDIRECT_STATUS' => string (3) \"200\"\n    'MIBDIRS' => string (24) \"C:\/xampp\/php\/extras\/mibs\"\n    'MYSQL_HOME' => string (16) \"\\xampp\\mysql\\bin\"\n    'OPENSSL_CONF' => string (31) \"C:\/xampp\/apache\/bin\/openssl.cnf\"\n    'PHP_PEAR_SYSCONF_DIR' => string (10) \"\\xampp\\php\"\n    'PHPRC' => string (10) \"\\xampp\\php\"\n    'TMP' => string (10) \"\\xampp\\tmp\"\n    'HTTP_HOST' => string (9) \"localhost\"\n    'HTTP_CONNECTION' => string (10) \"keep-alive\"\n    'CONTENT_LENGTH' => string (2) \"62\"\n    'HTTP_CACHE_CONTROL' => string (9) \"max-age=0\"\n    'HTTP_ACCEPT' => string (74) \"text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/webp,*\/*;q=0.8\"\n    'HTTP_ORIGIN' => string (16) \"http:\/\/localhost\"\n    'HTTP_USER_AGENT' => string (109) \"Mozilla\/5.0 (Windows NT 6.1; WOW64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/37.0.2062.120 Safari\/537.36\"\n    'CONTENT_TYPE' => string (33) \"application\/x-www-form-urlencoded\"\n    'HTTP_REFERER' => string (38) \"http:\/\/localhost\/stallion\/public\/users\"\n    'HTTP_ACCEPT_ENCODING' => string (12) \"gzip,deflate\"\n    'HTTP_ACCEPT_LANGUAGE' => string (75) \"en-US,en;q=0.8,es-419;q=0.6,es;q=0.4,ru;q=0.2,pt;q=0.2,zh-CN;q=0.2,zh;q=0.2\"\n    'HTTP_COOKIE' => string (298) \"laravel_session=eyJpdiI6IkV0ZDNNdzVuV0RSOGczZHY5SVhBXC9nPT0iLCJ2YWx1ZSI6Inppa1dHNit0czNYRWFPWXZ5QXN3K0k5OTQxcFl2RmJCMmZQd2xyVDVjSWRNTktKb3dlZHV5XC8xdTV1UjNcL1dJMXpoVkVDV09XNU5reUx0Slwvck5kcmpRPT0iLCJtYWMiOiJmOWUwMmJhZWI1ZGMyNjhjMGE0MmMwZDJlZWNmMjVjZjVhYTczODRhZjRhNzExYTUwM2M3ZTJiODQzZDA5NWNjIn0%3D\"\n    'PATH' => string (202) \"C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\Program Files (x86)\\Git\\cmd;C:\\HashiCorp\\Vagrant\\bin;\"\n    'SystemRoot' => string (10) \"C:\\Windows\"\n    'COMSPEC' => string (27) \"C:\\Windows\\system32\\cmd.exe\"\n    'PATHEXT' => string (53) \".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\"\n    'WINDIR' => string (10) \"C:\\Windows\"\n    'SERVER_SIGNATURE' => string (95) \"&lt;address&gt;Apache\/2.4.10 (Win32) OpenSSL\/1.0.1h PHP\/5.4.31 Server at localhost Port 80&lt;\/address&gt;\n\"\n    'SERVER_SOFTWARE' => string (47) \"Apache\/2.4.10 (Win32) OpenSSL\/1.0.1h PHP\/5.4.31\"\n    'SERVER_NAME' => string (9) \"localhost\"\n    'SERVER_ADDR' => string (3) \"::1\"\n    'SERVER_PORT' => string (2) \"80\"\n    'REMOTE_ADDR' => string (3) \"::1\"\n    'DOCUMENT_ROOT' => string (15) \"C:\/xampp\/htdocs\"\n    'REQUEST_SCHEME' => string (4) \"http\"\n    'CONTEXT_PREFIX' => string (0) \"\"\n    'CONTEXT_DOCUMENT_ROOT' => string (15) \"C:\/xampp\/htdocs\"\n    'SERVER_ADMIN' => string (20) \"postmaster@localhost\"\n    'SCRIPT_FILENAME' => string (41) \"C:\/xampp\/htdocs\/stallion\/public\/index.php\"\n    'REMOTE_PORT' => string (5) \"53299\"\n    'REDIRECT_URL' => string (30) \"\/stallion\/public\/users\/drop\/21\"\n    'GATEWAY_INTERFACE' => string (7) \"CGI\/1.1\"\n    'SERVER_PROTOCOL' => string (8) \"HTTP\/1.1\"\n    'REQUEST_METHOD' => string (4) \"POST\"\n    'QUERY_STRING' => string (0) \"\"\n    'REQUEST_URI' => string (30) \"\/stallion\/public\/users\/drop\/21\"\n    'SCRIPT_NAME' => string (26) \"\/stallion\/public\/index.php\"\n    'PHP_SELF' => string (26) \"\/stallion\/public\/index.php\"\n    'REQUEST_TIME_FLOAT' => float 1411359104.925\n    'REQUEST_TIME' => integer 1411359104\n]","request_cookies":"array(1) [\n    'laravel_session' => string (40) \"2db1d987586d4c4e952347694975a087ad551f7c\"\n]","response_headers":"array(2) [\n    'cache-control' => array(1) [\n        string (8) \"no-cache\"\n    ]\n    'date' => array(1) [\n        string (29) \"Mon, 22 Sep 2014 04:11:46 GMT\"\n    ]\n]","path_info":"\/users\/drop\/21","session_attributes":"array(3) [\n    '_token' => string (40) \"8QvJrwG7mSM9M0RL4RUxSsjL1sUZv6iCFQEgbqNc\"\n    'PHPDEBUGBAR_STACK_DATA' => array()\n    'flash' => array(2) [\n        'old' => array()\n        'new' => array()\n    ]\n]"}}